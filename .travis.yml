language: csharp
sudo: required
dist: trusty
mono: latest
# dotnet: 2.0.3
os:
- linux
git:
  depth: 1
cache:
  directories:
  - tools
  - "$HOME/.nuget/packages"
before_cache:
- rm -f tools/packages.config
before_script:
- curl https://packages.microsoft.com/keys/microsoft.asc | gpg --dearmor > microsoft.gpg
- sudo mv microsoft.gpg /etc/apt/trusted.gpg.d/microsoft.gpg
- sudo sh -c 'echo "deb [arch=amd64] https://packages.microsoft.com/repos/microsoft-ubuntu-trusty-prod trusty main" > /etc/apt/sources.list.d/dotnetdev.list'
- sudo apt-get update
- sudo apt-get install dotnet-sdk-2.1.300
script:
- git fetch --unshallow
- git fetch origin '+refs/heads/*:refs/heads/*'
- git branch -r
- chmod 755 ./build.sh
- "./build.sh --verbosity Diagnostic"
notifications:
  slack:
    secure: Lb7ODb6GkZTwpVi3RMLsGX5Z97/C/BkBHsYZTgax5vbEsOwCm5EfEd2UICd/UrnstieIVEEO0CJsRRZgkGS4EcqNV6bVyjimnit1bFkhi0WXRg6lcPuFPr+QK34SFBmGOjIZH9zMGc8CgzgYsSMUDRotoTeXwbjRZtH5govTtSdca0OuIDlRvhrL4Lscl1N0npoAhpdIcRs1lm4SDHmN+mxb7td23jBp5gU5xJDesllZu4fwEF6IiFJoFg8k2hFxN73IhU0yVErJMXgaIQpGwp+DtOe1C7d0bySLuwfeiO6Ka5/t4RmT6XlPws073dl/oCl7skcD0vEP05CwlePuwH4hRCulK4duwOTYabhUg/hbI48Issr3WwIV2OjWI3MZ7t0Vj5GOc2rZqQaM7Yr8WgBz0lVQe/9jN3k3N+ZUa4YCsDPipMidvAKQ/vIwwBfg71lMn8fz2F/6hCrwfGWxi68+H1VBtrSmkhVsGVvVo/SQ9v1TwoGBHZpH+C/g0XBTgmjYeqtfCFYjPNMer18TSZz04jTX7b0HC3HQSmR+JG1o4dFKZ/g70Z64QmT/SOkWsnsatY0ca1thtXhq9lbZOUV5Uj6eQYg2qcPIm/adjF1CXr1s33DpzRKDU+BuJ5iNytOLwj8fwpo2BiFjkmntTjEdLVu8/SMawm7IOBzTj1k=
